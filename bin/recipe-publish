#!/usr/bin/env node

var program = require('commander');

program
    .description('publish a recipe')
    .option('-g, --global', 'use global config file')
    .option('-p, --project', 'use project config file')
    .option('-u, --user', 'use user config file')
    .action((options) => {
        var PublishCommand = require('../dist/js/commands/PublishCommand').default;
        PublishCommand.run(options)
            .then((publishedRecipe) => {
                console.log('Recipe published ' + publishedRecipe.name + '@' + publishedRecipe.version);
                process.exit();
            })
            .catch((error) => {
                console.log('Publish failed.');
                console.log(error);
                process.exit(1);
            });
    })
    .parse(process.argv);
